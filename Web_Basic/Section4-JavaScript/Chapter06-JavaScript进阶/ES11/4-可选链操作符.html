<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>可选链操作符</title>
  </head>
  <body>
    <script>
      // ?.
      function main(config) {
        // 需求：判断用户是否传入config，是否传入config.db，是否传入config.db.host
        // 旧方法：如果不判断直接调用dbHost，用户未传入的情况下，会报错
        // const dbHost = config && config.db && config.db.host;

        // 新方法
        const dbHost = config?.db?.host
        console.log(dbHost)

        const cacheUser = config?.cache?.username
        console.log(cacheUser) // undefined
      }

      main({
        db: {
          host: '192.168.1.100',
          username: 'root',
        },
        /* cache: {
          host: '192.168.1.200',
          username: 'admin',
        }, */
      })
    </script>
  </body>
</html>
