<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise API - all</title>
  </head>
  <body>
    <script>
      let p1 = new Promise((resolve, reject) => {
        resolve('OK')
      })
      let p2 = Promise.resolve('Success')
      let p3 = Promise.reject('Error')
      let p4 = Promise.resolve('Oh Yeah')

      const pAll = Promise.all([p1, p2, p4]) // PromiseState: "fulfilled", PromiseResult: ["OK", "Success", "Oh Yeah"]
      const pAll2 = Promise.all([p1, p3, p4]) // PromiseState: "rejected", PromiseResult: "Error"

      pAll.then(
        (values) => {
          console.log('all 成功了', values)
        },
        (reason) => {
          console.log('all 失败了', reason)
        }
      )

      pAll2.then(
        (values) => {
          console.log('all 成功了', values)
        },
        (reason) => {
          console.log('all 失败了', reason)
        }
      )
    </script>
  </body>
</html>
