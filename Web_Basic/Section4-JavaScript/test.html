<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Test</title>
    <!-- <script src="http://code.jquery.com/jquery-latest.js"></script> -->
  </head>
  <body>
    <!--案例：表单验证-->
    <ul>
      <li>
        <label for="tel">手机号:</label>
        <input type="text" class="inp" id="tel" />
        <span class=""> </span>
      </li>
      <li>
        <label for="">QQ:</label>
        <input type="text" class="inp" id="qq" />
        <span></span>
      </li>
      <li>
        <label for="">昵称:</label>
        <input type="text" class="inp" id="nc" />
        <span></span>
      </li>
      <li>
        <label for="">短信验证码:</label>
        <input type="text" class="inp" id="msg" />
        <span></span>
      </li>
      <li>
        <label for="">登陆密码:</label>
        <input type="text" class="inp" id="pwd" />
        <span> </span>
      </li>
      <li class="safe">
        安全程度
        <em class="ruo">弱</em>
        <em class="zhong">中</em>
        <em class="qiang">强</em>
      </li>
      <li>
        <label for="">确认密码:</label>
        <input type="text" class="inp" id="surepwd" />
        <span></span>
      </li>
    </ul>
    <script>
      window.onload = function () {
        var regtel = /^1[3|4|5|7|8]\d{9}$/ // 手机号码的正则表达式
        var regqq = /^[1-9]\d{4,}$/ // 10000
        var regnc = /^[\u4e00-\u9fa5]{2,8}$/
        var regmsg = /^\d{6}$/
        var regpwd = /^[a-zA-Z0-9_-]{6,16}$/
        var tel = document.querySelector('#tel')
        var qq = document.querySelector('#qq')
        var nc = document.querySelector('#nc')
        var msg = document.querySelector('#msg')
        var pwd = document.querySelector('#pwd')
        var surepwd = document.querySelector('#surepwd')
        regexp(tel, regtel) // 手机号码
        regexp(qq, regqq) // qq号码
        regexp(nc, regnc) // 昵称
        regexp(msg, regmsg) // 短信验证
        regexp(pwd, regpwd) // 密码框
        // 表单验证的函数
        function regexp(ele, reg) {
          ele.onblur = function () {
            if (reg.test(this.value)) {
              this.nextElementSibling.className = 'success'
              this.nextElementSibling.innerHTML = '<i class="success_icon"></i> 恭喜您输入正确'
            } else {
              this.nextElementSibling.className = 'error'
              this.nextElementSibling.innerHTML = '<i class="error_icon"></i> 格式不正确，请从新输入 '
            }
          }
        }
        surepwd.onblur = function () {
          if (this.value == pwd.value) {
            this.nextElementSibling.className = 'success'
            this.nextElementSibling.innerHTML = '<i class="success_icon"></i> 恭喜您输入正确'
          } else {
            this.nextElementSibling.className = 'error'
            this.nextElementSibling.innerHTML = '<i class="error_icon"></i> 两次密码输入不一致'
          }
        }
      }
    </script>
  </body>
</html>
