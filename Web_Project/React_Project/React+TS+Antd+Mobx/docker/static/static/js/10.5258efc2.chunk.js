(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[10],{273:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n(57),a=function(e){return Object(i.a)({url:"/admin/config",method:"post",data:e})},s=function(){return Object(i.a)({url:"/admin/config/check"})}},362:function(e,t,n){},460:function(e,t,n){"use strict";n.r(t);var i,a=n(107),s=n(27),c=n(37),o=n(129),r=n(39),d=n(38),l=n(0),h=n(15),u=n(117),b=n(468),m=n(471),j=n(42),p=(n(362),n(36)),f=n(137),O=n(76),w=n(273),g=n(4),v={labelCol:{span:4},wrapperCol:{span:16}},y={wrapperCol:{offset:8,span:16}},x=Object(p.b)("admin")(i=Object(p.b)("permission")(i=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(e,i){var a;Object(s.a)(this,n),(a=t.call(this,e,i)).handleResize=function(){var e=window.document.body.clientHeight,t=window.document.body.clientWidth;a.setState({width:t,height:e})},a.check=function(){Object(w.a)().then((function(e){1===e.data.code&&a.props.history.push("/config")}))},a.onFinish=function(e){Object(f.b)(e).then((function(t){var n=t.data,i=n.code,s=n.msg;if(0!==i)return u.b.error(s),Promise.reject(s);var c,o,r=t.data.data.token;Object(O.c)("token",r),null===(c=a.props.admin)||void 0===c||c.login(e),null===(o=a.props.permission)||void 0===o||o.initPermission(),window.location.href="/"}))},a.onFinishFailed=function(e){console.log("Failed:",e)};var c=window.document.body.clientHeight,r=window.document.body.clientWidth;return a.state={width:r,height:c,name:"",password:""},a.check(),window.addEventListener("resize",a.handleResize.bind(Object(o.a)(a))),a}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"login",style:{width:this.state.width+"px",height:this.state.height+"px"},children:Object(g.jsxs)(b.a,Object(a.a)(Object(a.a)({id:"login-form",className:"login-form",ref:null,initialValues:this.state,onFinish:this.onFinish,onFinishFailed:this.onFinishFailed},v),{},{children:[Object(g.jsx)(b.a.Item,{label:"\u7528\u6237\u540d",name:"name",rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"},{type:"string",min:2,message:"\u7528\u6237\u540d\u957f\u5ea6\u4e0d\u53ef\u4ee5\u5c0f\u4e8e2\u4f4d"}],children:Object(g.jsx)(m.a,{})}),Object(g.jsx)(b.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"},{type:"string",min:2,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u53ef\u4ee5\u5c0f\u4e8e2\u4f4d"}],children:Object(g.jsx)(m.a.Password,{})}),Object(g.jsx)(b.a.Item,Object(a.a)(Object(a.a)({},y),{},{children:Object(g.jsx)(j.a,{type:"primary",htmlType:"submit",children:"\u767b\u5f55"})}))]}))})}}]),n}(l.Component))||i)||i;t.default=Object(h.g)(x)}}]);
//# sourceMappingURL=10.5258efc2.chunk.js.map